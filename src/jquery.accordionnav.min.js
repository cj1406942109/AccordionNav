/**
 * Created by dushang on 16/06/01.
 * accordion v1.0.0
 * require jquery 1.7+, font-awesome
 * MIT License
 * for more info pls visit :https://github.com/cj1406942109/accordion
 */
;(function($,window,document,undefined){var Accordion=function(ele,opt){this.$elements=ele;this.defaults={'title':'AccordionTitle','menus':[['menu1',''],['menu2',''],['menu3',''],['menu4','']],'hasSubmenus':true,'submenus':[[['menu1submenu1','#'],['menu1submenu2','#'],['menu1submenu3','#']],[['menu2submenu1','#'],['menu2submenu2','#'],['menu2submenu3','#'],['menu2submenu4','#'],['menu2submenu5','#'],['menu2submenu6','#']],[['menu3submenu1','#'],['menu3submenu2','#'],['menu3submenu3','#'],['menu3submenu4','#']],[['menu4submenu1','#'],['menu4submenu2','#']]],'width':'290px','bg':'#fafbfc','border':'1px solid #ddd','float':'left','bottomSpaceHeight':'120px','titleIcon':'fa-bookmark','titleIconSize':'30px','titleIconColor':'#386cca','titleHeight':'80px','titleIconLeftDistance':'30px','titleIconRightDistance':'15px','titleFontSize':'24px','titleFontColor':'#386cca','titleBg':'transparent','titleDelimitLine':'1px solid #ddd','menuHeight':'60px','menuFontSize':'16px','menuFontColor':'#666','menuBg':'transparent','menuLeftDistance':'30px','menuDelimitLine':'1px solid #ddd','submenuHeight':'50px','submenuFontSize':'14px','submenuFontColor':'#666','submenuBg':'transparent','submenuLeftDistance':'10px','foldIcon':'fa-chevron-down','foldIconSize':'16px','foldIconColor':'#666','foldIconMarginRight':'30px','unfoldIcon':'fa-chevron-up','unfoldIconSize':'16px','unfoldIconColor':'#386cca','unfoldIconMarginRight':'30px','hoverBg':'#f0f3f5','hoverBorderLeft':'1px solid #5c8ce6','chosenBg':'#ebf1f5','chosenBorderLeft':'4px solid #5c8ce6','showOneSubmenu':true,'showFirstSubmenu':true,'delayTime':'400','animationTime':'slow'};this.options=$.extend({},this.defaults,opt)};Accordion.prototype={init:function(){var options=this.options;var titleDiv="<div class='accordion-title'></div>";var menuDiv="<ul class='accordion-menu'></ul>";this.$elements.append(titleDiv);this.$elements.append(menuDiv);$('.accordion-title').append("<i class='fa "+options.titleIcon+"' aria-hidden='true'></i>").append("<span>"+options.title+"</span>");if(options.hasSubmenus){$.each(options.menus,function(i,menu){var submenusDiv="";$.each(options.submenus[i],function(j,submenu){submenusDiv+="<li><a href='"+submenu[1]+"'>"+submenu[0]+"</a></li>"});submenusDiv="<ul class='accordion-submenu'>"+submenusDiv+"</ul>";$('.accordion-menu').append("<li><div><a href='"+menu[1]+"'>"+menu[0]+"<i class='fa "+options.foldIcon+"' aria-hidden='true'></i></a></div>"+submenusDiv+"</li>")})}else{var submenusDiv="";$.each(options.menus,function(i,menu){submenusDiv+="<li><div><a href='"+menu[1]+"'>"+menu[0]+"<i class='fa "+options.foldIcon+"' aria-hidden='true'></i></a></div></li>"});$('.accordion-menu').append(submenusDiv)}this.$elements.addClass('accordion-nav');$('.accordion-nav').css({'width':options.width,'background':options.bg,'padding-bottom':options.bottomSpaceHeight,'border':options.border,'float':options.float});$('.accordion-nav a').css('text-decoration','none');$('.accordion-nav ul').css({'margin':0,'padding':0,'list-style-type':'none'});$('.accordion-title').css({'height':options.titleHeight,'line-height':options.titleHeight,'padding':'0 0 0 '+options.titleIconLeftDistance,'background':options.titleBg,'border-bottom':options.titleDelimitLine});$('.accordion-title i').css({'color':options.titleIconColor,'font-size':options.titleIconSize});$('.accordion-title span').css({'margin-left':options.titleIconRightDistance,'color':options.titleFontColor,'font-size':options.titleFontSize});$('.accordion-menu').css('background',options.menuBg);$('.accordion-menu li div').css({'height':options.menuHeight,'line-height':options.menuHeight,'font-size':options.menuFontSize,'background':options.menuBg,'border-bottom':options.menuDelimitLine,'clear':'both'});$('.accordion-menu li a').css({'margin-left':options.menuLeftDistance,'color':options.menuFontColor});$('.accordion-submenu li').css({'height':options.submenuHeight,'line-height':options.submenuHeight,'font-size':options.submenuFontSize,'color':options.submenuFontColor,'background':options.submenuBg,'margin-left':options.submenuLeftDistance});setfoldStatus();$('.accordion-menu li').hover(function(){$(this).css('cursor','pointer')},function(){$(this).css('cursor','auto')});$('.accordion-menu a').each(function(){if($(this).attr('href')==''){$(this).removeAttr('href')}});if(options.hasSubmenus){$('.accordion-submenu li').hover(function(){if(!$(this).hasClass('chosen')){$(this).addClass('hover')}$('.hover').css({'cursor':'pointer','border-left':options.hoverBorderLeft,'background':options.hoverBg})},function(){if(!$(this).hasClass('chosen')){$('.hover').css({'cursor':'auto','border-left':'none','background':options.submenuBg})}$(this).removeClass('hover')});$('.accordion-submenu').on('click','li',function(){$('.chosen').css({'cursor':'auto','border-left':'none','background':options.submenuBg});$('.accordion-menu').find('li').removeClass('chosen');$(this).addClass('chosen');$('.chosen').css({'border-left':options.chosenBorderLeft,'background':options.chosenBg})});$('.accordion-submenu li').on('click',function(){$(this)[0].firstChild.click()})}else{$('.accordion-menu li div').hover(function(){if(!$(this).hasClass('chosen')){$(this).addClass('hover')}$('.hover').css({'cursor':'pointer','border-left':options.hoverBorderLeft,'background':options.hoverBg})},function(){if(!$(this).hasClass('chosen')){$('.hover').css({'cursor':'auto','border-left':'none','background':options.menuBg})}$(this).removeClass('hover')});$('.accordion-menu li').on('click','div',function(){$('.chosen').css({'cursor':'auto','border-left':'none','background':options.menuBg});$('.accordion-menu').find('div').removeClass('chosen');$(this).addClass('chosen');$('.chosen').css({'border-left':options.chosenBorderLeft,'background':options.chosenBg})});$('.accordion-menu li div').on('click',function(){$(this)[0].firstChild.click()})}if(options.hasSubmenus){if(options.showOneSubmenu){$('.accordion-submenu').hide();if(options.showFirstSubmenu){$('.accordion-submenu').first().delay(options.delayTime).slideDown(options.animationTime);$('.accordion-menu').find('i').first().addClass(options.unfoldIcon).removeClass(options.foldIcon);$('.accordion-menu div:eq(1)').css("border-top",options.menuDelimitLine);setfoldStatus()}}else{$('.accordion-submenu').hide();if(options.showFirstSubmenu){$('.accordion-submenu').first().delay(options.delayTime).slideDown(options.animationTime);$('.accordion-menu').find('i').first().addClass(options.unfoldIcon).removeClass(options.foldIcon);$('.accordion-menu div:eq(1)').css("border-top",options.menuDelimitLine);setfoldStatus()}else{}}$('.accordion-menu').on('click','div',function(){$(this).next('.accordion-submenu').slideToggle(options.animationTime);if(options.showOneSubmenu){$(this).parent().siblings().find('.accordion-submenu').slideUp(options.animationTime);$(this).parent().siblings().find('i').addClass(options.foldIcon).removeClass(options.unfoldIcon);$(this).parent().parent().find('div').css('border-top','none');setfoldStatus()}if($(this).find('i').hasClass(options.unfoldIcon)){$(this).parent().next().find('div').css('border-top','none');$(this).find('i').removeClass(options.unfoldIcon).addClass(options.foldIcon)}else{$(this).parent().next().find('div').css('border-top',options.menuDelimitLine);$(this).find('i').removeClass(options.foldIcon).addClass(options.unfoldIcon)}setfoldStatus()})}function setfoldStatus(){$('.accordion-menu li a i').each(function(){if($(this).hasClass(options.foldIcon)){$(this).css({'float':'right','margin-right':options.foldIconMarginRight,'color':options.foldIconColor,'font-size':options.foldIconSize,'line-height':options.menuHeight})}else{$(this).css({'float':'right','margin-right':options.unfoldIconMarginRight,'color':options.unfoldIconColor,'font-size':options.unfoldIconSize,'line-height':options.menuHeight})}})}}};$.fn.accordion=function(options){var accordion=new Accordion(this,options);return accordion.init()}})(jQuery,window,document);